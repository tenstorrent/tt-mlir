# ttnn-standalone

`ttnn-standalone` is a post-compile tuning/debugging tool that builds and runs C++ code generated by the TT-Forge compiler. It provides a framework for executing compiled networks on Tenstorrent hardware, inspecting intermediate results, and verifying correctness independently from the compiler environment.

>**NOTE:** Tenstorrent's TT-Forge compiler stack (built on TT-MLIR) ingests models from standard frameworks like PyTorch, JAX, ONNX, and Tensorflow. It generates a host-side C++ program that calls pre-tuned kernel functions from the TT-NN library. This C++ program can be compiled into a portable binary. The ttnn-standalone utility shows how this binary links against the TT-Metal runtime to execute on Tenstorrent hardware.


### Usage

```bash
# 1. Convert a model from TTIR dialect to EmitC dialect using ttmlir-opt
# 2. Translate the resulting EmitC dialect to C++ code using ttmlir-translate
# 3. Pipe the generated C++ code to a .cpp file
ttmlir-opt \
  --ttir-to-emitc-pipeline \
  test/ttmlir/EmitC/TTNN/sanity_add.mlir | \
ttmlir-translate \
  --mlir-to-cpp > \
  tools/ttnn-standalone/ttnn-standalone.cpp

# 1. Change dir to `tools/ttnn-standalone`
# 2. Use `run` script to compile and run the compiled binary
cd tools/ttnn-standalone
./run
```

>**NOTE:** If you receive this error:
```bash
-bash: ./run: Permission denied
```
>Running `chmod +x run` sets the execute permission on the script.
