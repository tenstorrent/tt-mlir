# TT-Explorer Docker Compose Environment Configuration

# ACME Certificate Configuration (HTTP-01 challenge)
# Supports any ACME server: Let's Encrypt, HashiCorp Vault PKI, Smallstep, etc.
# Examples:
#   Let's Encrypt Production: https://acme-v02.api.letsencrypt.org/directory
#   Let's Encrypt Staging: https://acme-staging-v02.api.letsencrypt.org/directory
#   Vault PKI: https://vault.yourcompany.com/v1/pki/acme/directory
ACME_DIRECTORY_URL=https://acme-v02.api.letsencrypt.org/directory
ACME_CONTACT=it@yourcompany.com

# Domain Configuration
# Must be resolvable by your ACME server 
# and pointing to this server for ACME HTTP-01 challenge
FQDN=explorer.yourcompany.com

# OAuth2 Provider Configuration
# Provider type: entra-id (for Microsoft Entra ID), google, github, oidc, etc.
OAUTH2_PROVIDER=entra-id

# Microsoft Entra ID Configuration
# Required for Entra ID authentication
OAUTH2_OIDC_ISSUER_URL=https://login.microsoftonline.com/your-tenant-id-here/v2.0
OAUTH2_CLIENT_ID=your-client-id-here
OAUTH2_CLIENT_SECRET=your-client-secret-here

# OAuth2 Cookie Secret (generate with: python -c 'import os,base64; print(base64.urlsafe_b64encode(os.urandom(32)).decode())')
OAUTH2_COOKIE_SECRET=your-32-byte-base64-encoded-secret-here

# OAuth2 Redirect URL (automatically constructed from FQDN, but can be overridden)
OAUTH2_REDIRECT_URL=https://explorer.yourcompany.com/oauth2/callback

# OAuth2 Email Domains (use * to allow all, or specify allowed domains)
OAUTH2_EMAIL_DOMAINS=*

# OAuth2 Cookie Settings
OAUTH2_COOKIE_SECURE=true
OAUTH2_COOKIE_SAMESITE=lax

# OAuth2 Domain Restrictions
OAUTH2_WHITELIST_DOMAINS=.yourcompany.com
OAUTH2_COOKIE_DOMAINS=.yourcompany.com

# Skip provider selection button (useful when only one provider is configured)
OAUTH2_SKIP_PROVIDER_BUTTON=true

# Alternative: Generic OIDC Configuration (if not using Azure)
# Uncomment and configure if using a generic OIDC provider instead of Azure
# OAUTH2_PROVIDER=oidc
# OAUTH2_OIDC_ISSUER_URL=https://your-oidc-provider.com
# OAUTH2_CLIENT_ID=your-client-id-here
# OAUTH2_CLIENT_SECRET=your-client-secret-here

